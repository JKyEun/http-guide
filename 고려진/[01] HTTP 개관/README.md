# 1장. HTTP 개관
- [HTTP란?](#http란)
- [웹 클라이언트와 서버](#웹-클라이언트와-서버)
- [리소스](#리소스)
- [미디어 타입](#미디어-타입)
- [URI (Uniform Resource Identifier)](#uri-uniform-resource-identifier)
- [트랜잭션](#트랜잭션)
- [메시지](#메시지)
- [TCP 연결](#tcp-연결)
- [웹의 구성요소](#웹의-구성요소)

### HTTP란?

HTTP(HyperText Transfer Protocol)는 전 세계의 웹 서버로부터 대량의 정보를 빠르고 간편하며 정확하게 웹 브라우저로 전송하는 신뢰성 있는 프로토콜이다.

### 웹 클라이언트와 서버

- **웹 콘텐츠**는 웹 서버에 저장되며, HTTP 프로토콜로 통신한다
- **클라이언트**는 서버에 HTTP 요청을 보낸다
- **서버**는 요청된 데이터를 HTTP 응답으로 돌려준다

### 리소스

웹 서버는 웹 리소스를 관리하고 제공한다. 리소스는 웹 콘텐츠의 원천이다.

**리소스의 종류:**
- 정적 파일: HTML 파일, 텍스트 파일, 이미지, 동영상 등
- 동적 콘텐츠: 사용자의 요청에 따라 콘텐츠를 생성하는 프로그램

### 미디어 타입

HTTP는 웹에서 전송되는 객체 각각에 MIME(Multipurpose Internet Mail Extensions) 타입이라는 데이터 포맷 라벨을 붙인다.  
MIME 타입은 HTTP 헤더에 Content-Type 값으로 지정되며, 이는 리소스의 미디어 타입을 나타낸다.  

**주요 MIME 타입 예시**
- `text/html` - HTML 문서
- `text/plain` - 일반 텍스트
- `image/jpeg` - JPEG 이미지
- `image/gif` - GIF 이미지
- `video/quicktime` - QuickTime 동영상
- `application/json` - JSON 데이터
  
`주타입(primary object type)/부타입(specific)`으로 이루어져 있다.

---

### URI (Uniform Resource Identifier)

웹 서버 리소스는 각자 이름을 가지고 있어서, 클라이언트는 관심 있는 리소스를 지목할 수 있다.  
서버 리소스 이름은 통합 자원 식별자(Uniform Resource Identifier), 혹은 URI 라고 불린다.

**URI의 두 가지 형태:**
- **URL (Uniform Resource Locator)**: 리소스의 위치를 표현. 오늘 날 대부분의 URI는 URL로 표현된다.
- **URN (Uniform Resource Name)**: 리소스의 이름으로 표현

### 트랜잭션

HTTP 트랜잭션은 요청 명령과 응답 결과로 구성된다.

**HTTP 메서드 (주요 메서드):**
HTTP는 HTTP 메서드라는 여러 종류의 요청 명령을 지원한다.  

- `GET`: 서버에서 클라이언트로 지정한 리소스를 보내라
- `PUT`: 클라이언트에서 서버로 보낸 데이터를 지정한 이름의 리소스로 저장하라
- `DELETE`: 지정한 리소스를 서버에서 삭제하라
- `POST`: 클라이언트 데이터를 서버 게이트웨이 애플리케이션으로 보내라
- `HEAD`: 지정한 리소스에 대한 응답에서 HTTP 헤더 부분만 보내라

**상태 코드:**

모든 HTTP 응답 메시지는 상태 코드와 함께 반환된다.

- `200`: OK. 문서가 바르게 반환되었다
- `302`: Redirect. 다른 곳으로 가서 리소스를 가져가라
- `404`: Not Found. 리소스를 찾을 수 없다

### HTTP 메시지

HTTP 메시지는 단순한 줄 단위의 문자열이다.  
웹 클라이언트에서 웹 서버로 보낸 HTTP 메시지를 요청 메시지, 웹 서버에서 웹 클라이언트로 보낸 HTTP 메시지를 응답 메시지라고 부른다.

**HTTP 메시지 구성**
1. **시작줄**: 요청이라면 무엇을 해야 하는지, 응답이라면 무슨 일이 일어났는지
2. **헤더**: 키-값 형태
3. **본문**: 어떤 종류의 데이터든 들어갈 수 있는 메시지 본문 (선택적)

### TCP 연결

HTTP는 애플리케이션 계층 프로토콜로, 네트워크 통신의 핵심적인 세부사항은 TCP/IP에게 맡긴다.

**TCP가 제공하는 것**
- 오류 없는 데이터 전송
- 순서에 맞는 전달
- 조각나지 않는 데이터 스트림

**연결 과정**
1. 브라우저가 URL에서 호스트명 추출
2. 브라우저가 호스트명을 IP 주소로 변환
3. 브라우저가 URL에서 포트번호 추출 (기본값: 80)
4. 브라우저가 웹 서버와 TCP 연결 수립
5. 브라우저가 HTTP 요청 전송
6. 서버가 HTTP 응답 회신
7. 연결이 닫히고 브라우저가 문서 표시

### 웹의 구성요소

**프록시:**
클라이언트와 서버 사이에 위치한 HTTP 중개자이다. 주로 보안, 애플리케이션 통합, 성능 최적화를 위해 사용된다.

**캐시:**
자주 찾는 것의 사본을 저장해두는 HTTP 창고이다. 웹 캐시나 캐시 프록시는 자신을 거쳐가는 문서 중 자주 찾는 것의 사본을 저장해두어 성능을 개선한다.

**게이트웨이:**
다른 서버들의 중개자로 동작하는 특별한 서버이다. HTTP 트래픽을 다른 프로토콜로 변환하는데 사용된다.

**터널:**
두 연결 사이에서 raw 데이터를 열어보지 않고 그대로 전달하는 HTTP 애플리케이션이다.

**에이전트:**
사용자를 위해 HTTP 요청을 만들어주는 클라이언트 프로그램이다. 웹 브라우저가 가장 흔한 예이다.
